# Тестовое задание об использовании ECS

Текст задания приведен в файле для личного пользования.

Модуль решения оформлен как самостоятельная сборка. Модуль расположен в папке проекта `Assets/Modules/Model`.

После инициализации, в процессе работы, сервисы и модель, с некоторой периодичностью, должны получать вызовы обновления. Обновление состояния модели основано на последовательной (без ветвлений) работе следующих систем:

- `ESysPawnChangeDestination`: для настройки заданий перемещения персонажей
- `ESysButtonCollision`: для настройки заданий перемещения дверей
- `ESysCleanUpReached`: для проверки и отключения заданий перемещения элементов сцены
- `ESysMoveEverything`: для расчета смещений перемещающихся в сцене элементов в рамках одной итерации цикла приложения (один апдейт)

Для расчета модели в любом окружении их вызов, в такой последовательности, необходим и достаточен.

О реализации состояния бизнес-логики можно сказать, что моделировалось два аспекта поведения.

Первый аспект, это аспект перемещения элементов сцены, в модели отражен как пара компонентов `ActionMove` первый из которых `Current` отражает существующую возможность, второй `Target` предполагаемую. Наличие второго компонента в стеке приводит к движению соответствующего элемента.

Второй аспект это столкновения. Компоненты маркеров ECS (все компоненты `Model`) позволяют формировать комбинации для расчёта столкновений, исключая некоторые группы (здесь: исключая столкновение кнопки с кнопкой) Реализован этот аспект при помощи компонента `ActionCollided`.

Дескриптор движения введен фиксации формул расчетов физической модели движения. Возможно это будет необходимо в процессе развития решения.

Предложенная декомпозиция предполагает общее решение в котором роль персонажа, как единственного агента, воздействующего на кнопки и двери является его свойством, которое так же может быть присуще другому объекту предметной области. Так же, характер перемещения не различается для классов объектов, хотя любое движение в сцене равномерно и прямолинейно. Несомненно реализация может развиваться, однако любое развитие продиктовано необходимостью. На данном этапе, поскольку требования задания соблюдены, думаю развитие решения можно приостановить.

Время работы над задачей: ~16 часов
